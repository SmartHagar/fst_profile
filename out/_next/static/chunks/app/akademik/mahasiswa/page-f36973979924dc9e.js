(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1228,841],{24811:function(e,a,s){Promise.resolve().then(s.bind(s,78453))},78453:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return A}});var t=s(57437),l=s(2265),r=s(3011),n=s(89134),i=s(34061);let d={search:"",status:"all",prodi_id:"",thn_angkatan:"",jenkel:"all",sort_by:"thn_angkatan",sort_order:"desc",limit:16,page:1},c=(0,r.U)()((0,n.mW)((e,a)=>({dataMahasiswa:null,dtShowMahasiswa:null,filterOptions:null,statistics:null,loading:!1,loadingOptions:!1,error:null,filters:d,clearError:()=>e({error:null}),setMahasiswa:async()=>{e({loading:!0,error:null});try{let{filters:s}=a(),t=new URLSearchParams;Object.entries(s).forEach(e=>{let[a,s]=e;s&&"all"!==s&&""!==s&&t.append(a,s.toString())});let l=(await i.cB.get("/mhs?".concat(t.toString()))).data;if("success"===l.type)return e({dataMahasiswa:l.data,loading:!1}),{status:"berhasil",data:l};throw Error(l.message||"Failed to fetch data")}catch(l){var s,t;let a=(null===(t=l.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||l.message;return e({error:a,loading:!1}),{status:"error",error:a}}},setShowMahasiswa:async s=>{e({loading:!0,error:null});try{let{dataMahasiswa:t}=a();if(null==t?void 0:t.data){let a=t.data.find(e=>e.id===s);if(a)return e({dtShowMahasiswa:a,loading:!1}),{status:"berhasil",data:a}}throw Error("Mahasiswa tidak ditemukan")}catch(s){var t,l;let a=(null===(l=s.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message)||s.message;return e({error:a,loading:!1}),{status:"error",error:a}}},setFilterOptions:async()=>{e({loadingOptions:!0});try{let a=(await i.cB.get("/mhs/filter-options")).data;if("success"===a.type)return e({filterOptions:a.data,loadingOptions:!1}),{status:"berhasil",data:a};throw Error(a.message||"Failed to fetch filter options")}catch(l){var a,s;let t=(null===(s=l.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||l.message;return e({error:t,loadingOptions:!1}),{status:"error",error:t}}},setStatistics:async()=>{try{let{filters:s}=a(),t=new URLSearchParams;s.prodi_id&&t.append("prodi_id",s.prodi_id),s.thn_angkatan&&t.append("thn_angkatan",s.thn_angkatan);let l=(await i.cB.get("/mhs/statistics?".concat(t.toString()))).data;if("success"===l.type)return e({statistics:l.data}),{status:"berhasil",data:l};throw Error(l.message||"Failed to fetch statistics")}catch(l){var s,t;let a=(null===(t=l.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||l.message;return e({error:a}),{status:"error",error:a}}},setFilters:a=>{e(e=>({filters:{...e.filters,...a,page:void 0!==a.page?a.page:1}}))},applyFilters:async()=>await a().setMahasiswa(),changePage:async e=>{a().setFilters({page:e});let s=await a().setMahasiswa();return setTimeout(()=>{let e=document.querySelector("[data-mahasiswa-content]"),a=document.querySelector("[data-statistics]");if(a){let e=a.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:Math.max(0,e-100),behavior:"smooth"})}else if(e){let a=e.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:Math.max(0,a-120),behavior:"smooth"})}else window.scrollTo({top:150,behavior:"smooth"})},200),s},changeLimit:async e=>(a().setFilters({limit:e,page:1}),await a().setMahasiswa()),resetFilters:()=>{e({filters:d}),a().setMahasiswa()}}),{name:"mahasiswa-store"}));var o=s(73247),m=s(3577),x=s(28842),u=s(95805),h=s(69076),g=s(32489),p=s(93978),b=e=>{var a,s,r;let{filters:n,onFiltersChange:i,onApplyFilters:d,onResetFilters:c,prodiOptions:b,tahunAngkatanOptions:j,totalResults:f=0,loading:v=!1}=e,[N,y]=(0,l.useState)(!1),[k,w]=(0,l.useState)(n.search),_=(0,l.useRef)(!0),C=(0,l.useRef)(n);(0,l.useEffect)(()=>{let e=setTimeout(()=>{k!==n.search&&i({search:k})},500);return()=>clearTimeout(e)},[k,n.search,i]),(0,l.useEffect)(()=>{if(_.current){_.current=!1,C.current=n;return}(n.status!==C.current.status||n.prodi_id!==C.current.prodi_id||n.thn_angkatan!==C.current.thn_angkatan||n.jenkel!==C.current.jenkel||n.sort_by!==C.current.sort_by||n.sort_order!==C.current.sort_order||n.search!==C.current.search||n.limit!==C.current.limit)&&(C.current=n,d())},[n.status,n.prodi_id,n.thn_angkatan,n.jenkel,n.sort_by,n.sort_order,n.search,n.limit]);let M=e=>{w(e)},S=e=>{i(e)},Z=n.search||"all"!==n.status||n.prodi_id||n.thn_angkatan||"all"!==n.jenkel||"nm_mhs"!==n.sort_by||"asc"!==n.sort_order,D=[{value:"all",label:"Semua Status",color:"text-gray-700"},{value:"active",label:"Aktif",color:"text-green-700"},{value:"inactive",label:"Tidak Aktif",color:"text-red-700"},{value:"lulus",label:"Lulus",color:"text-blue-700"}],T=[{value:"nm_mhs",label:"Nama Mahasiswa"},{value:"NPM",label:"NPM"},{value:"thn_angkatan",label:"Tahun Angkatan"},{value:"prodi",label:"Program Studi"},{value:"created_at",label:"Tanggal Daftar"},{value:"status",label:"Status"}];return(0,t.jsx)(p.Z,{animations:"fade-down",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(o.Z,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{type:"text",placeholder:"Cari nama mahasiswa atau NPM...",value:k,onChange:e=>M(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:v}),v&&(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,t.jsx)("button",{onClick:()=>S({status:e.value}),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(n.status===e.value?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"),disabled:v,children:e.label},e.value))}),(0,t.jsxs)("button",{onClick:()=>y(!N),className:"flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ".concat(N||Z?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),disabled:v,children:[(0,t.jsx)(m.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Filter Lanjutan"}),Z&&(0,t.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),N&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Studi"}),(0,t.jsxs)("select",{value:n.prodi_id,onChange:e=>S({prodi_id:e.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:v,children:[(0,t.jsx)("option",{value:"",children:"Semua Prodi"}),b.map(e=>(0,t.jsxs)("option",{value:e.id.toString(),children:[e.kode," - ",e.nm_prodi]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tahun Angkatan"}),(0,t.jsxs)("select",{value:n.thn_angkatan,onChange:e=>S({thn_angkatan:e.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:v,children:[(0,t.jsx)("option",{value:"",children:"Semua Tahun"}),j.map(e=>(0,t.jsx)("option",{value:e.toString(),children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jenis Kelamin"}),(0,t.jsx)("select",{value:n.jenkel,onChange:e=>S({jenkel:e.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:v,children:[{value:"all",label:"Semua Jenis Kelamin"},{value:"Laki-laki",label:"Laki-laki"},{value:"Perempuan",label:"Perempuan"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urutkan Berdasarkan"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("select",{value:n.sort_by,onChange:e=>S({sort_by:e.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:v,children:T.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,t.jsx)("button",{onClick:()=>S({sort_order:"asc"===n.sort_order?"desc":"asc"}),className:"px-3 py-2 border border-l-0 border-gray-300 rounded-r-lg hover:bg-gray-50 transition-colors ".concat("desc"===n.sort_order?"bg-gray-100":""),disabled:v,title:"Saat ini: ".concat("asc"===n.sort_order?"A-Z":"Z-A"),children:(0,t.jsx)(x.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item per Halaman"}),(0,t.jsxs)("select",{value:n.limit,onChange:e=>S({limit:parseInt(e.target.value)}),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:v,children:[(0,t.jsx)("option",{value:8,children:"8"}),(0,t.jsx)("option",{value:12,children:"12"}),(0,t.jsx)("option",{value:16,children:"16"}),(0,t.jsx)("option",{value:20,children:"20"}),(0,t.jsx)("option",{value:24,children:"24"}),(0,t.jsx)("option",{value:32,children:"32"}),(0,t.jsx)("option",{value:48,children:"48"}),(0,t.jsx)("option",{value:64,children:"64"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"font-medium",children:[f," mahasiswa ditemukan"]})]}),Z&&(0,t.jsxs)("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",disabled:v,children:[(0,t.jsx)(h.Z,{className:"w-4 h-4"}),"Reset Filter"]})]})]}),Z&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter aktif:"}),n.search&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:['Pencarian: "',n.search,'"',(0,t.jsx)("button",{onClick:()=>S({search:""}),children:(0,t.jsx)(g.Z,{className:"w-3 h-3"})})]}),"all"!==n.status&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:["Status:"," ",null===(a=D.find(e=>e.value===n.status))||void 0===a?void 0:a.label,(0,t.jsx)("button",{onClick:()=>S({status:"all"}),children:(0,t.jsx)(g.Z,{className:"w-3 h-3"})})]}),n.prodi_id&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:["Prodi:"," ",null===(s=b.find(e=>e.id.toString()===n.prodi_id))||void 0===s?void 0:s.nm_prodi,(0,t.jsx)("button",{onClick:()=>S({prodi_id:""}),children:(0,t.jsx)(g.Z,{className:"w-3 h-3"})})]}),n.thn_angkatan&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs",children:["Angkatan: ",n.thn_angkatan,(0,t.jsx)("button",{onClick:()=>S({thn_angkatan:""}),children:(0,t.jsx)(g.Z,{className:"w-3 h-3"})})]}),"all"!==n.jenkel&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-pink-100 text-pink-800 rounded-full text-xs",children:[n.jenkel,(0,t.jsx)("button",{onClick:()=>S({jenkel:"all"}),children:(0,t.jsx)(g.Z,{className:"w-3 h-3"})})]}),("nm_mhs"!==n.sort_by||"asc"!==n.sort_order)&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:["Sort:"," ",null===(r=T.find(e=>e.value===n.sort_by))||void 0===r?void 0:r.label," ","(","asc"===n.sort_order?"A-Z":"Z-A",")",(0,t.jsx)("button",{onClick:()=>S({sort_by:"nm_mhs",sort_order:"asc"}),children:(0,t.jsx)(g.Z,{className:"w-3 h-3"})})]})]})})]})})},j=s(99388),f=s(66142),v=s(41671),N=s(55900),y=s(83774),k=s(31047),w=s(92369),_=s(33145),C=e=>{var a,s,l,r;let{mahasiswa:n,index:d,onClick:c}=e,o=(e=>{if(e.statusMhs)return{label:"Tidak Aktif",color:"bg-red-100 text-red-800",icon:j.Z};switch(e.status){case"lulus":return{label:"Lulus",color:"bg-blue-100 text-blue-800",icon:f.Z};case"aktif":default:return{label:"Aktif",color:"bg-green-100 text-green-800",icon:v.Z};case"tidak aktif":return{label:"Tidak Aktif",color:"bg-red-100 text-red-800",icon:j.Z}}})(n),m="Laki-laki"===n.jenkel?{label:"Laki-laki",color:"bg-blue-50 text-blue-700",icon:"\uD83D\uDC68"}:{label:"Perempuan",color:"bg-pink-50 text-pink-700",icon:"\uD83D\uDC69"},x=o.icon,u=(r=n.img_mhs)?r.startsWith("http")?r:"".concat(i.VW,"/storage/").concat(r):null;return(0,t.jsx)(p.Z,{offset:10,animations:"fade-up",delay:50*d,className:"h-full",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 h-full flex flex-col ".concat(c?"cursor-pointer hover:border-blue-300":""),onClick:()=>null==c?void 0:c(n),children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 relative",children:[u?(0,t.jsx)(_.default,{src:u,alt:n.nm_mhs,width:48,height:48,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200",onError:e=>{var a;e.currentTarget.style.display="none",null===(a=e.currentTarget.nextElementSibling)||void 0===a||a.classList.remove("hidden")}}):null,(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm ".concat(u?"hidden":""),children:n.nm_mhs.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2)}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 text-xs",children:m.icon})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-1 leading-tight",children:n.nm_mhs}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["NPM: ",n.npm_full]}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(o.color),children:[(0,t.jsx)(x,{className:"w-3 h-3"}),o.label]})})]})]})}),(0,t.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)(N.Z,{className:"w-4 h-4 flex-shrink-0"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900 text-xs",children:(null===(a=n.prodi)||void 0===a?void 0:a.nm_prodi)||"Prodi tidak tersedia"}),(null===(s=n.prodi)||void 0===s?void 0:s.kode)&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Kode: ",n.prodi.kode," (",n.prodi.singkat,")"]})]})]}),(null===(l=n.prodi)||void 0===l?void 0:l.fakultas)&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 flex-shrink-0"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-gray-700",children:n.prodi.fakultas.nm_fakultas}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["(",n.prodi.fakultas.singkat,")"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 flex-shrink-0"}),(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsxs)("span",{className:"font-medium",children:["Angkatan ",n.thn_angkatan]}),(0,t.jsxs)("div",{className:"text-gray-500",children:[new Date().getFullYear()-n.thn_angkatan," tahun"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.Z,{className:"w-4 h-4 flex-shrink-0 text-gray-600"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(m.color),children:m.label})]})]}),n.statusMhs&&(0,t.jsx)("div",{className:"pt-3 border-t border-gray-100 mt-3",children:(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,t.jsx)("span",{className:"font-medium",children:"Detail Status: "}),(0,t.jsx)("span",{className:"text-red-600",children:n.statusMhs.status}),n.statusMhs.keterangan&&(0,t.jsxs)("div",{className:"mt-1 text-red-600 italic",children:['"',n.statusMhs.keterangan,'"']}),n.statusMhs.tanggal&&(0,t.jsxs)("div",{className:"mt-1 text-gray-500",children:["Sejak:"," ",new Date(n.statusMhs.tanggal).toLocaleDateString("id-ID")]})]})})]}),(0,t.jsx)("div",{className:"px-4 pb-4",children:(0,t.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["Terdaftar:"," ",new Date(n.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})]})})]})})},M=s(10841),S=e=>{let{mahasiswaData:a,loading:s,onMahasiswaClick:l,onPageChange:r}=e,n=(null==a?void 0:a.data)||[];console.log({mahasiswaData:a});let i=n.reduce((e,a)=>{var s;let t=(null===(s=a.prodi)||void 0===s?void 0:s.nm_prodi)||"Tidak Diketahui";return e[t]=(e[t]||0)+1,e},{}),d=Object.keys(i).length;return s?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mb-3"}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})]})},e))}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>(0,t.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},e))})]}):0===n.length?(0,t.jsx)(p.Z,{animations:"fade-up",children:(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:(0,t.jsx)(u.Z,{className:"w-12 h-12 text-gray-400"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Tidak Ada Data Mahasiswa"}),(0,t.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:"Belum ada data mahasiswa yang sesuai dengan filter yang dipilih. Coba ubah kriteria pencarian atau filter yang digunakan."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[d>1&&(0,t.jsx)(p.Z,{animations:"fade-up",delay:100,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(N.Z,{className:"w-5 h-5 text-orange-600"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribusi Program Studi (Halaman Ini)"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(i).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 truncate mr-2",children:a}),(0,t.jsx)("span",{className:"text-sm font-bold text-gray-900 bg-white px-2 py-1 rounded",children:s})]},a)})})]})}),(0,t.jsx)(p.Z,{offset:10,animations:"fade-up",delay:200,children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:n.map((e,a)=>(0,t.jsx)(C,{mahasiswa:e,index:a,onClick:l},e.id))})}),(0,t.jsx)(p.Z,{animations:"fade-up",delay:300,children:(0,t.jsx)(M.default,{setPage:r,current_page:(null==a?void 0:a.current_page)||1,last_page:(null==a?void 0:a.last_page)||1,total:(null==a?void 0:a.total)||0})})]})},Z=s(33245),D=s(49322),T=s(42208);let L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{behavior:a="smooth",offset:s=120}=e,t=document.querySelector("[data-mahasiswa-content]");if(t){let e=t.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:Math.max(0,e-s),behavior:a})}else window.scrollTo({top:s,behavior:a})};var A=()=>{var e,a,s;let[r,n]=(0,l.useState)(null),{dataMahasiswa:i,filterOptions:d,loading:o,loadingOptions:m,error:x,filters:h,setMahasiswa:g,setFilterOptions:j,setFilters:f,applyFilters:v,resetFilters:N,changePage:y,clearError:k}=c();(0,l.useEffect)(()=>{(async()=>{try{await j(),await g()}catch(e){console.error("Error loading initial data:",e)}})()},[]);let w=(0,l.useCallback)(e=>{f(e)},[f]),C=(0,l.useCallback)(()=>{v()},[v]),M=(0,l.useCallback)(()=>{N()},[N]),A=(0,l.useCallback)(e=>{L({offset:10}),y(e)},[y]),P=()=>{n(null)};(0,l.useEffect)(()=>{if(x){let e=setTimeout(()=>{k()},5e3);return()=>clearTimeout(e)}},[x,k]);let E=(null==d?void 0:d.prodi)||[],F=(null==d?void 0:d.tahun_angkatan)||[],O=(null==i?void 0:i.total)||0;return(0,t.jsxs)("main",{className:"flex flex-col gap-8","data-mahasiswa-content":!0,children:[(0,t.jsx)(p.Z,{animations:"fade-up",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(u.Z,{className:"w-6 h-6 text-blue-600"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Data Mahasiswa Universitas"}),(0,t.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Halaman ini menampilkan data lengkap mahasiswa yang terdaftar di universitas. Anda dapat mencari dan memfilter data berdasarkan berbagai kriteria seperti nama, program studi, tahun angkatan, status, dan jenis kelamin."}),(null==d?void 0:d.statistics)&&(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[(0,t.jsx)("div",{className:"font-semibold text-blue-900",children:d.statistics.total}),(0,t.jsx)("div",{className:"text-blue-700",children:"Total Mahasiswa"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:[(0,t.jsx)("div",{className:"font-semibold text-green-900",children:d.statistics.aktif}),(0,t.jsx)("div",{className:"text-green-700",children:"Mahasiswa Aktif"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-red-200",children:[(0,t.jsx)("div",{className:"font-semibold text-red-900",children:d.statistics.tidak_aktif}),(0,t.jsx)("div",{className:"text-red-700",children:"Tidak Aktif"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[(0,t.jsx)("div",{className:"font-semibold text-purple-900",children:d.statistics.lulus}),(0,t.jsx)("div",{className:"text-purple-700",children:"Lulus"})]})]})]})]})})}),(0,t.jsx)(p.Z,{animations:"fade-up",delay:100,children:(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(Z.Z,{className:"w-5 h-5 text-amber-600 flex-shrink-0"}),(0,t.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,t.jsx)("strong",{children:"Informasi:"}),' Data mahasiswa menggunakan pagination untuk optimasi performa. Status "Aktif" menunjukkan mahasiswa yang masih terdaftar dan aktif kuliah, sedangkan "Tidak Aktif" menunjukkan mahasiswa yang cuti atau non-aktif.']})]})})}),x&&(0,t.jsx)(p.Z,{animations:"fade-up",children:(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(D.Z,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"text-sm text-red-800",children:[(0,t.jsx)("strong",{children:"Error:"})," ",x]})}),(0,t.jsx)("button",{onClick:k,className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"✕"})]})})}),m&&!d&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,t.jsx)("div",{className:"text-sm text-blue-800",children:"Memuat opsi filter..."})]})}),d&&(0,t.jsx)(b,{filters:h,onFiltersChange:w,onApplyFilters:C,onResetFilters:M,prodiOptions:E,tahunAngkatanOptions:F,totalResults:O,loading:o}),(0,t.jsx)(S,{mahasiswaData:i,loading:o,onMahasiswaClick:e=>{n(e)},onPageChange:A}),!o&&i&&i.data.length>0&&(0,t.jsx)(p.Z,{animations:"fade-up",children:(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Data mahasiswa ini bersifat internal dan hanya dapat diakses oleh pihak yang berwenang. Untuk informasi lebih lanjut, silakan hubungi bagian akademik universitas."}),i&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Halaman ",i.current_page," dari"," ",i.last_page," • Total ",i.total," ","mahasiswa"]})]})}),r&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(T.Z,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Detail Mahasiswa"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Informasi lengkap mahasiswa"})]})]}),(0,t.jsx)("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[r.img_mhs?(0,t.jsx)(_.default,{src:"https://back-siakad.fstuogp.com/storage/".concat(r.img_mhs),alt:r.nm_mhs,width:100,height:100,className:"w-24 h-24 rounded-lg object-cover border-2 border-gray-200",onError:e=>{var a;e.currentTarget.style.display="none",null===(a=e.currentTarget.nextElementSibling)||void 0===a||a.classList.remove("hidden")}}):null,(0,t.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xl ".concat(r.img_mhs?"hidden":""),children:r.nm_mhs.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:r.nm_mhs}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700",children:"NPM: "}),(0,t.jsx)("span",{className:"text-gray-900",children:r.NPM})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Jenis Kelamin:"," "]}),(0,t.jsx)("span",{className:"text-gray-900",children:r.jenkel})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Tahun Angkatan:"," "]}),(0,t.jsx)("span",{className:"text-gray-900",children:r.thn_angkatan})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Status:"," "]}),(0,t.jsx)("span",{className:"font-medium ".concat(r.statusMhs?"text-red-600":"lulus"===r.status?"text-blue-600":"text-green-600"),children:r.statusMhs?"Tidak Aktif":"lulus"===r.status?"Lulus":"Aktif"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h5",{className:"font-semibold text-gray-900",children:"Informasi Akademik"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Program Studi:"," "]}),(0,t.jsx)("span",{className:"text-gray-900",children:(null===(e=r.prodi)||void 0===e?void 0:e.nm_prodi)||"Tidak tersedia"})]}),(null===(a=r.prodi)||void 0===a?void 0:a.kode)&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Kode Prodi:"," "]}),(0,t.jsxs)("span",{className:"text-gray-900",children:[r.prodi.kode," (",r.prodi.singkat,")"]})]}),(null===(s=r.prodi)||void 0===s?void 0:s.fakultas)&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Fakultas:"," "]}),(0,t.jsxs)("span",{className:"text-gray-900",children:[r.prodi.fakultas.nm_fakultas," (",r.prodi.fakultas.singkat,")"]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h5",{className:"font-semibold text-gray-900",children:"Detail Status"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[r.statusMhs?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Status:"," "]}),(0,t.jsx)("span",{className:"text-red-600 font-medium",children:r.statusMhs.status})]}),r.statusMhs.keterangan&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Keterangan:"," "]}),(0,t.jsx)("span",{className:"text-gray-900",children:r.statusMhs.keterangan})]}),r.statusMhs.tanggal&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Tanggal:"," "]}),(0,t.jsx)("span",{className:"text-gray-900",children:new Date(r.statusMhs.tanggal).toLocaleDateString("id-ID")})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Status:"," "]}),(0,t.jsx)("span",{className:"text-green-600 font-medium",children:"lulus"===r.status?"Lulus":"Aktif"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:["Masa Studi:"," "]}),(0,t.jsxs)("span",{className:"text-gray-900",children:[new Date().getFullYear()-r.thn_angkatan," ","tahun"]})]})]})]})]}),(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Tanggal Daftar: "}),new Date(r.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Terakhir Update: "}),new Date(r.updated_at).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]})]})})]}),(0,t.jsx)("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:P,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Tutup"})})]})})]})}},93978:function(e,a,s){"use strict";var t=s(57437),l=s(2265),r=s(40908),n=s.n(r);s(57074),a.Z=e=>{let{children:a,animations:s="zoom-in",offset:r=300,delay:i=50,duration:d=1e3,easing:c="ease-in-out",mirror:o=!1,once:m=!0,anchorPlacement:x="top-bottom",className:u}=e;return(0,l.useEffect)(()=>{n().init()},[]),(0,t.jsx)("div",{"data-aos":s,"data-aos-offset":r,"data-aos-delay":i,"data-aos-duration":d,"data-aos-easing":c,"data-aos-mirror":o,"data-aos-once":m,"data-aos-anchor-placement":x,className:u,children:a})}},10841:function(e,a,s){"use strict";s.r(a),s.d(a,{SimplePaginate:function(){return r}});var t=s(57437),l=s(2265);a.default=e=>{let{current_page:a,last_page:s,total:r,setPage:n,className:i=""}=e;if(s<=1)return null;let d=(()=>{let e=[],t=[],l=Math.max(2,a-2),r=Math.min(s-1,a+2);for(let a=l;a<=r;a++)e.push(a);return a-2>2?t.push(1,"..."):t.push(1),t.push(...e),a+2<s-1?t.push("...",s):1!==s&&t.push(s),t})(),c=e=>{"number"==typeof e&&e!==a&&(null==n||n(e))},o=()=>{a>1&&(null==n||n(a-1))},m=()=>{a<s&&(null==n||n(a+1))};return(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-4 ".concat(i),children:[(0,t.jsxs)("div",{className:"text-sm text-base-content/60",children:["Menampilkan halaman"," ",(0,t.jsx)("span",{className:"font-semibold text-primary",children:a})," dari"," ",(0,t.jsx)("span",{className:"font-semibold text-primary",children:s})," (",(0,t.jsx)("span",{className:"font-semibold",children:r})," total item)"]}),(0,t.jsxs)("div",{className:"join hidden sm:block",children:[(0,t.jsxs)("button",{onClick:o,disabled:1===a,className:"join-item btn btn-sm","aria-label":"Previous page",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Sebelumnya"]}),d.map((e,s)=>(0,t.jsx)(l.Fragment,{children:"..."===e?(0,t.jsx)("button",{className:"join-item btn btn-sm ",children:"..."}):(0,t.jsx)("button",{onClick:()=>c(e),className:"join-item btn btn-sm ".concat(e===a?"btn-primary":"btn-ghost"),"aria-label":"Go to page ".concat(e),"aria-current":e===a?"page":void 0,children:e})},s)),(0,t.jsxs)("button",{onClick:m,disabled:a===s,className:"join-item btn btn-sm","aria-label":"Next page",children:["Selanjutnya",(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,t.jsxs)("div",{className:"sm:hidden flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:o,disabled:1===a,className:"btn btn-sm btn-circle","aria-label":"Previous page",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{className:"text-sm text-base-content/60",children:"Halaman"}),(0,t.jsx)("select",{value:a,onChange:e=>null==n?void 0:n(Number(e.target.value)),className:"select select-sm select-bordered w-20",children:Array.from({length:s},(e,a)=>(0,t.jsx)("option",{value:a+1,children:a+1},a+1))}),(0,t.jsxs)("span",{className:"text-sm text-base-content/60",children:["dari ",s]})]}),(0,t.jsx)("button",{onClick:m,disabled:a===s,className:"btn btn-sm btn-circle","aria-label":"Next page",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center space-x-2 text-sm",children:[(0,t.jsx)("span",{className:"text-base-content/60",children:"Lompat ke halaman:"}),(0,t.jsx)("input",{type:"number",min:"1",max:s,className:"input input-sm input-bordered w-20",placeholder:"1",onKeyPress:e=>{if("Enter"===e.key){let a=parseInt(e.target.value);a>=1&&a<=s&&(null==n||n(a),e.target.value="")}}})]})]})};let r=e=>{let{setPage:a,current_page:s,last_page:l}=e;return l<=1?null:(0,t.jsxs)("div",{className:"join",children:[(0,t.jsx)("button",{onClick:()=>null==a?void 0:a(s-1),disabled:1===s,className:"join-item btn",children:"\xab"}),(0,t.jsx)("button",{className:"join-item btn btn-active",children:s}),(0,t.jsx)("button",{onClick:()=>null==a?void 0:a(s+1),disabled:s===l,className:"join-item btn",children:"\xbb"})]})}},34061:function(e,a,s){"use strict";s.d(a,{VW:function(){return r},_n:function(){return l},cB:function(){return o},hi:function(){return c}});var t=s(83464);let l="https://admin.fstuogp.com",r="https://back-siakad.fstuogp.com",n="".concat(l,"/auth"),i="".concat(l,"/json"),d="".concat(l,"/storage");t.Z.create({baseURL:n});let c=t.Z.create({baseURL:i});t.Z.create({baseURL:d});let o=t.Z.create({baseURL:"".concat(r,"/api")})}},function(e){e.O(0,[4720,3145,57,5237,2971,2117,1744],function(){return e(e.s=24811)}),_N_E=e.O()}]);