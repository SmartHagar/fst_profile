(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[767],{4802:function(e,s,a){Promise.resolve().then(a.bind(a,8108))},8108:function(e,s,a){"use strict";a.d(s,{default:function(){return B}});var t=a(7437),i=a(2265),l=a(8657),r=a(957),n=a(7648),c=a(5414);var d=e=>{let{viewMode:s="list",count:a=6}=e;const i=()=>(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:a}).map(((e,s)=>(0,t.jsx)("div",{className:"card bg-base-100 shadow-xl animate-pulse",children:(0,t.jsx)("div",{className:"card-body p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)("div",{className:"w-40 h-32 bg-base-300 rounded-lg"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-6 bg-base-300 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-6 bg-base-300 rounded w-1/2"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-base-300 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-base-300 rounded w-5/6"}),(0,t.jsx)("div",{className:"h-4 bg-base-300 rounded w-4/6"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,t.jsx)("div",{className:"h-3 bg-base-300 rounded w-20"}),(0,t.jsx)("div",{className:"h-3 bg-base-300 rounded w-24"}),(0,t.jsx)("div",{className:"h-3 bg-base-300 rounded w-16"})]})]})]})})},s)))}),l=()=>(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:a}).map(((e,s)=>(0,t.jsxs)("div",{className:"card bg-base-100 shadow-xl animate-pulse",children:[(0,t.jsxs)("figure",{className:"relative overflow-hidden",children:[(0,t.jsx)("div",{className:"w-full h-48 bg-base-300"}),(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(0,t.jsx)("div",{className:"w-12 h-5 bg-base-300 rounded-full"})})]}),(0,t.jsxs)("div",{className:"card-body p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-5 bg-base-300 rounded w-full"}),(0,t.jsx)("div",{className:"h-5 bg-base-300 rounded w-3/4"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-base-300 rounded w-full"}),(0,t.jsx)("div",{className:"h-3 bg-base-300 rounded w-2/3"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"h-3 bg-base-300 rounded w-16"}),(0,t.jsx)("div",{className:"h-3 bg-base-300 rounded w-20"})]}),(0,t.jsx)("div",{className:"h-6 w-12 bg-base-300 rounded"})]})]})]},s)))});return"grid"===s?(0,t.jsx)(l,{}):(0,t.jsx)(i,{})},o=a(2720),m=a(2369),x=a(1047),h=a(1723),j=a(7398),u=a.n(j);a(3702);u().locale("id");var b=e=>{let{dataCard:s,random:a,baseUrl:i,viewMode:l="list"}=e;if(!(null===s||void 0===s?void 0:s.data))return(0,t.jsx)(d,{viewMode:l});const r=e=>{const s=encodeURIComponent(e.tag.toLowerCase().replace(/\s+/g,"-"));return"/berita/detail/".concat(e.id,"/").concat(s)},j=(e,s)=>{const a=e.replace(/<[^>]*>?/gm,"");return a.length>s?a.substring(0,s)+"...":a},b=e=>e.charAt(0).toUpperCase()+e.slice(1),g=()=>(0,t.jsx)("div",{className:"space-y-4",children:s.data.map(((e,s)=>{const{gambar_berita:l,judul:d,isi_berita:g,penulis:v,tanggal:N,tag:p}=e;return(0,t.jsx)("article",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02]",children:(0,t.jsx)("div",{className:"card-body p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[!a&&(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(n.default,{href:r(e),children:(0,t.jsx)(c.Z,{src:"".concat(i,"/storage/").concat(l),alt:d,className:"w-40 h-32 rounded-lg hover:scale-105 transition-transform duration-200",width:160,height:128})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex justify-start mb-2",children:(0,t.jsxs)("span",{className:"badge badge-primary badge-sm gap-1",children:[(0,t.jsx)(o.Z,{size:10}),b(p)]})}),(0,t.jsx)("h3",{className:"card-title text-base lg:text-lg line-clamp-2 mb-2",children:(0,t.jsx)(n.default,{href:r(e),className:"link link-hover hover:text-primary transition-colors",children:a?d.substring(0,50)+"...":d})}),!a&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("p",{className:"text-sm text-base-content/70 line-clamp-3",children:j(g,200)})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-base-content/60 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Z,{size:12}),(0,t.jsx)("span",{children:v})]}),N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.Z,{size:12}),(0,t.jsx)("span",{children:u()(N).format("DD MMM YYYY")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Z,{size:12}),(0,t.jsx)("span",{children:u()(N).fromNow()})]})]})]}),!a&&(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(n.default,{href:r(e),className:"btn btn-primary btn-sm",children:"Baca Selengkapnya"})})]})]})})},"".concat(e.id,"-").concat(s))}))}),v=()=>(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.data.map(((e,s)=>{const{gambar_berita:a,judul:l,isi_berita:d,penulis:x,tanggal:g,tag:v}=e;return(0,t.jsxs)("article",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 group",children:[(0,t.jsxs)("figure",{className:"relative overflow-hidden",children:[(0,t.jsx)(n.default,{href:r(e),children:(0,t.jsx)(c.Z,{src:"".concat(i,"/storage/").concat(a),alt:l,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300",width:300,height:192})}),(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(0,t.jsxs)("div",{className:"badge badge-primary badge-sm gap-1 bg-primary/90 backdrop-blur-sm",children:[(0,t.jsx)(o.Z,{size:8}),b(v)]})}),g&&(0,t.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,t.jsx)("div",{className:"badge badge-neutral badge-sm bg-neutral/90 backdrop-blur-sm",children:u()(g).format("DD MMM")})})]}),(0,t.jsxs)("div",{className:"card-body p-4",children:[(0,t.jsx)("h3",{className:"card-title text-sm lg:text-base line-clamp-2 min-h-[2.5rem]",children:(0,t.jsx)(n.default,{href:r(e),className:"link link-hover hover:text-primary transition-colors",children:l})}),(0,t.jsx)("p",{className:"text-xs text-base-content/70 line-clamp-2 mt-2",children:j(d,100)}),(0,t.jsxs)("div",{className:"card-actions justify-between items-center mt-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1 text-xs text-base-content/60 min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Z,{size:10}),(0,t.jsx)("span",{className:"truncate",children:x})]}),g&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Z,{size:10}),(0,t.jsx)("span",{children:u()(g).fromNow()})]})]}),(0,t.jsx)(n.default,{href:r(e),className:"btn btn-primary btn-xs shrink-0",children:"Baca"})]})]})]},"".concat(e.id,"-").concat(s))}))});return"grid"===l?(0,t.jsx)(v,{}):(0,t.jsx)(g,{})},g=a(3472),v=a(7586),N=a(1473);var p=e=>{let{viewMode:s,onViewChange:a,className:i=""}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-2 ".concat(i),children:[(0,t.jsx)("span",{className:"text-sm font-medium text-base-content/70",children:"Tampilan:"}),(0,t.jsxs)("div",{className:"join",children:[(0,t.jsxs)("button",{className:"btn btn-sm join-item ".concat("list"===s?"btn-primary":"btn-outline"),onClick:()=>a("list"),title:"Tampilan List",children:[(0,t.jsx)(v.Z,{size:16}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"List"})]}),(0,t.jsxs)("button",{className:"btn btn-sm join-item ".concat("grid"===s?"btn-primary":"btn-outline"),onClick:()=>a("grid"),title:"Tampilan Grid",children:[(0,t.jsx)(N.Z,{size:16}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Grid"})]})]})]})};var f=a(2096),w=a(525),y=a(4061);var B=()=>{var e;const{setBerita:s,dataBerita:a,dataRandomBerita:n,setRandomBerita:c,loading:d,error:o}=(0,r.Z)(),{viewMode:m,setViewMode:x}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"list";const[s,a]=(0,i.useState)(e);return(0,i.useEffect)((()=>{try{const e=localStorage.getItem("viewPreference");!e||"list"!==e&&"grid"!==e||a(e)}catch(o){}}),[]),{viewMode:s,setViewMode:e=>{a(e);try{localStorage.setItem("viewPreference",e)}catch(o){}}}}("list");return(0,i.useEffect)((()=>{s(),c()}),[s,c]),o?(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"alert alert-error",children:(0,t.jsxs)("span",{children:["Error: ",o]})})}):(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)(l.E.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},className:"flex flex-wrap lg:flex-nowrap gap-8",children:[(0,t.jsxs)("main",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4 lg:mb-0",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10 rounded-lg",children:(0,t.jsx)(f.Z,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Berita Fakultas Sains & Teknologi"}),(0,t.jsx)("p",{className:"text-sm text-base-content/70 mt-1",children:"Informasi terkini dan terbaru dari fakultas"})]})]}),(0,t.jsx)(p,{viewMode:m,onViewChange:x,className:"self-start lg:self-auto"})]}),(0,t.jsxs)("div",{className:"stats shadow mb-6 w-full",children:[(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("div",{className:"stat-figure text-primary",children:(0,t.jsx)(w.Z,{className:"w-8 h-8"})}),(0,t.jsx)("div",{className:"stat-title",children:"Total Berita"}),(0,t.jsx)("div",{className:"stat-value text-primary",children:(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.length)||0}),(0,t.jsx)("div",{className:"stat-desc",children:"Berita tersedia"})]}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("div",{className:"stat-title",children:"Mode Tampilan"}),(0,t.jsx)("div",{className:"stat-value text-sm",children:"list"===m?"List View":"Grid View"}),(0,t.jsx)("div",{className:"stat-desc",children:"list"===m?"Detail preview":"Visual browsing"})]})]}),d?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)("span",{className:"loading loading-spinner loading-lg text-primary"}),(0,t.jsx)("p",{className:"mt-4 text-base-content/70",children:"Memuat berita..."})]}):(0,t.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,t.jsx)(b,{dataCard:a,random:!1,baseUrl:y._n,viewMode:m})},m),!d&&(!(null===a||void 0===a?void 0:a.data)||0===a.data.length)&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"p-4 bg-base-200 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:(0,t.jsx)(f.Z,{className:"w-10 h-10 text-base-content/40"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Belum Ada Berita"}),(0,t.jsx)("p",{className:"text-base-content/70",children:"Belum ada berita yang tersedia saat ini."})]})]}),(0,t.jsx)("aside",{className:"w-full lg:w-80",children:(0,t.jsx)(g.Z,{dataRandomBerita:n})})]})})}},5414:function(e,s,a){"use strict";var t=a(7437),i=a(2265),l=a(3145),r=a(3974);s.Z=e=>{let{src:s,alt:a,priority:n=!1,className:c="",width:d=800,height:o=600}=e;const[m,x]=(0,i.useState)(!1);return m?(0,t.jsxs)("div",{className:"bg-base-200 flex flex-col items-center justify-center p-8 rounded-lg ".concat(c),children:[(0,t.jsx)(r.Z,{size:48,className:"text-base-content/50 mb-2"}),(0,t.jsx)("span",{className:"text-base-content/70 text-sm",children:"Gambar tidak dapat dimuat"})]}):(0,t.jsx)("div",{className:"relative overflow-hidden rounded-lg ".concat(c),children:(0,t.jsx)(l.default,{src:s,alt:a,width:d,height:o,priority:n,className:"w-full h-auto object-cover",onError:()=>x(!0)})})}},3472:function(e,s,a){"use strict";var t=a(7437),i=a(7648),l=a(5414),r=a(7398),n=a.n(r),c=a(4061);s.Z=e=>{let{dataRandomBerita:s}=e;if(!(null===s||void 0===s?void 0:s.data))return(0,t.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h2",{className:"card-title",children:"Berita Lainnya"}),(0,t.jsx)("div",{className:"flex justify-center py-4",children:(0,t.jsx)("span",{className:"loading loading-spinner loading-md"})})]})});const a=e=>"/berita/detail?id=".concat(e.id,"&tag=").concat(e.tag);return(0,t.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h2",{className:"card-title mb-4",children:"Berita Lainnya"}),(0,t.jsx)("div",{className:"space-y-4",children:s.data.slice(0,5).map(((e,s)=>(0,t.jsx)("div",{className:"border-b border-base-200 pb-4 last:border-b-0",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(l.Z,{src:"".concat(c._n,"/storage/").concat(e.gambar_berita),alt:e.judul,className:"w-16 h-12",width:64,height:48})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-sm font-medium line-clamp-2 mb-1",children:(0,t.jsxs)(i.default,{href:a(e),className:"link link-hover",children:[e.judul.substring(0,60),"..."]})}),(0,t.jsx)("div",{className:"text-xs text-base-content/60",children:e.tanggal&&(0,t.jsx)("span",{children:n()(e.tanggal).format("DD MMM YYYY")})})]})]})},s)))})]})})}},4061:function(e,s,a){"use strict";a.d(s,{_n:function(){return i},hi:function(){return c}});var t=a(3464);const i="https://admin.fstuogp.com",l="".concat(i,"/auth"),r="".concat(i,"/json"),n="".concat(i,"/storage"),c=(t.Z.create({baseURL:l}),t.Z.create({baseURL:r}));t.Z.create({baseURL:n})},957:function(e,s,a){"use strict";var t=a(3011),i=a(6885),l=a(4061);const r=(0,t.U)()((0,i.mW)((e=>({dataBerita:{},dataRandomBerita:{},dtShowBerita:null,loading:!1,error:null,clearError:()=>e({error:null}),setBerita:async()=>{e({loading:!0,error:null});try{const s=await l.hi.get("/berita");return e({dataBerita:s.data,loading:!1}),{status:"berhasil",data:s.data}}catch(t){var s,a;const i=(null===(a=t.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||t.message;return e({error:i,loading:!1}),{status:"error",error:i}}},setShowBerita:async s=>{let{id:a,tag:t}=s;e({loading:!0,error:null});try{const s=await l.hi.get("/berita/detail/".concat(a,"/").concat(t));return e({dtShowBerita:s.data,loading:!1}),{status:"berhasil",data:s.data}}catch(n){var i,r;const s=(null===(r=n.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||n.message;return e({error:s,loading:!1}),{status:"error",error:s}}},setRandomBerita:async()=>{try{const s=await l.hi.get("/berita/random");return e({dataRandomBerita:s.data}),{status:"berhasil",data:s.data}}catch(t){var s,a;return{status:"error",error:(null===(a=t.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||t.message}}}})),{name:"berita-store"}));s.Z=r}},function(e){e.O(0,[138,480,23,216,932,153,101,495,440,956,421,577,399,946,38,378,433,353,675,486,591,611,935,341,744],(function(){return s=4802,e(e.s=s);var s}));var s=e.O();_N_E=s}]);